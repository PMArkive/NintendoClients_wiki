This server provides services for Animal Crossing: New Horizons.

This server is at https://api.hac.lp1.acbaa.srv.nintendo.net. All request and response bodies are encoded with `application/x-msgpack`.

## Headers
| Header | Description |
| --- | --- |
| Host | `api.hac.lp1.acbaa.srv.nintendo.net` |
| User-Agent | `libcurl/7.64.1 (HAC; nnEns; SDK 9.3.4.0)` |
| Accept | `*/*` |
| Authorization | `Bearer ...` (id token or auth token). This header is not sent in requests for `/resources`. |
| Content-Type | `application/x-msgpack`. This header is not sent in requests for `/resources`. |
| Content-Length | Content length. Only present in POST and PUT requests. |

## Methods
| Method | URL |
| --- | --- |
| POST | [`/api/v1/auth_token`](#post-apiv1auth_token) |
| POST | [`/api/v1/design_players`](#post-apiv1design_players) |
| POST | `/api/v1/designs` |
| GET | `/api/v1/designs/<id>` |
| PUT | `/api/v1/designs/<id>` |
| DELETE | `/api/v1/designs/<id>` |
| POST | `/api/v1/designs/<id>/feedback` |
| GET | `/api/v1/friend_requests` |
| POST | `/api/v1/friend_requests` |
| PUT | [`/api/v1/friend_requests/<id>`](#put-apiv1friend_requestsid) |
| GET | `/api/v1/friends` |
| DELETE | `/api/v1/friends/<id>` |
| POST | [`/api/v1/lands`](#post-apiv1lands) |
| PUT | `/api/v1/lands/<id>/profile` |
| POST | `/api/v1/lands/updated_addresses` |
| GET | `/api/v1/legacy_designs` |
| DELETE | `/api/v1/legacy_designs` |
| GET | `/api/v1/legacy_designs/<id>` |
| GET | `/api/v1/message_cards` |
| POST | `/api/v1/message_cards` |
| GET | `/api/v1/message_cards/<id>` |
| POST | `/api/v1/message_cards/delete` |
| POST | [`/api/v1/notification_tokens`](#post-apiv1notification_tokens) |
| POST | `/api/v1/reports` |
| POST | `/api/v1/users` |
| PUT | `/api/v1/users/<id>/land` |
| PUT | `/api/v1/users/<id>/profile` |
| GET | `/api/v1/users/<id>/profile_status` |
| PUT | [`/api/v1/users/<id>/web_service_status`](#put-apiv1usersidweb_service_status) |
| GET | `/api/v2/designs` |

### POST /api/v1/auth_token
This method provides an auth token for other requests. The Authorization header must contain the id token obtained from the [baas server](BAAS-Server). User id and password are generated by the server when a new user is registered with `/api/v1/users`.

| Param | Type |
| --- | --- |
| id | Uint64 |
| password | String |

Response on success:

| Field | Type |
| --- | --- |
| token | String |
| expire_at | Sint64 |

### POST /api/v1/design_players
| Param | Type |
| --- | --- |
| name | String |

Response on success:

| Field | Type |
| --- | --- |
| id | Uint64 |

### PUT /api/v1/friend_requests/&lt;id&gt;
| Param | Type |
| --- | --- |
| action | String |

### POST /api/v1/lands
| Param | Type |
| --- | --- |
| name | String |
| display_id | Uint8 |
| in_app_id | Uint32 |
| region | Uint8 |
| hemisphere | Uint8 |

Response on success:

| Field | Type |
| --- | --- |
| id | Uint64 |
| password | String |

### POST /api/v1/notification_tokens
| Param | Type |
| --- | --- |
| token | String |

### POST /api/v1/users/&lt;id&gt;/web_service_status
| Param | Type |
| --- | --- |
| status | String |

## Errors
On error, the server sends the following response:

| Field | Type |
| --- | --- |
| category | String |
| code | String |

### Known Errors
| Status | Category | Code | Description |
| --- | --- | --- | --- |
| 400 | `lib` | 3000 | Bad request |
| 404 | `lib` | 3004 | Page not found or wrong http method |
| 404 | `lib` | 3005 | User not found |
| 401 | `lib` | 4001 | Invalid authorization header |